<html lang="ja">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>ç¤¾ä¼šäººåŸºç¤åŠ›è¨ºæ–­ãƒã‚§ãƒƒã‚¯</title>
 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
 /* =====================
Â  Â  Â å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»ãƒ™ãƒ¼ã‚¹
Â  ===================== */
 body {
  font-family: "Hiragino Sans", "Arial", sans-serif;
  background: #f4f4f4;
  padding: 20px;
  text-align: center;
  color: #252525;
 }

 /* =====================
Â  Â  Â ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢
Â  ===================== */
 #Screen {
  text-align: center;
  padding: 30px;
  max-width: 600px;
  margin: 0 auto;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
 }

 #startBtn {
  background-color: #007bff;
  color: #fff;
  padding: 10px 20px;
  font-size: 18px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
 }

 #startBtn:hover {
  opacity: 0.9;
  background-color: #005fe0;
 }

 /* =====================
Â  Â  Â è³ªå•ã‚¨ãƒªã‚¢ãƒ»å…±é€šUI
Â  ===================== */
 #chat-container {
  background: #fff;
  border-radius: 10px;
  padding: 20px;
  max-width: 600px;
  margin: 0 auto;
  box-shadow: 0 0 8px rgba(0,0,0,0.1);
 }

 .status {
  font-size: 18px;
  margin-bottom: 16px;
  font-weight: bold;
 }

 .likert-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
 }

 /* =====================
Â  Â  Â å††å½¢ã‚¹ã‚±ãƒ¼ãƒ«ï¼ˆ7æ®µéšï¼‰
Â  ===================== */
 .circles {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  justify-items: center;
  align-items: center;
  gap: 12px;
 }

 .labels {
  display: flex;
  justify-content: space-between;
  margin-top: 4px;
  text-align: center;
  gap: 140px;
 }

 /* å††ãƒœã‚¿ãƒ³å…±é€š */
 .circle {
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.2s;
  background-color: white;
  border: 3px solid #666;
 }

 /* ã‚µã‚¤ã‚º */
 .size0 { width: 40px; height: 40px; }
 .size1 { width: 32px; height: 32px; }
 .size2 { width: 28px; height: 28px; }
 .size3 { width: 26px; height: 26px; }

 input[type="radio"] { display: none; }

 /* è‰²è¨­å®šï¼ˆèµ¤â†’é»„â†’ç·‘ï¼‰ */
 input[id$="_0"] + .circle { border-color: #e74c3c; color: #e74c3c; } /* èµ¤ */
 input[id$="_1"] + .circle { border-color: #ff7802; color: #ff7802; } /* èµ¤æ©™ */
 input[id$="_2"] + .circle { border-color: #ffc505; color: #ffc505; } /* æ©™é»„ */
 input[id$="_3"] + .circle { border-color: #f2ee0c; color: #f2ee0c; } /* çœŸã‚“ä¸­é»„ */
 input[id$="_4"] + .circle { border-color: #9cfd00; color: #9cfd00; } /* é»„ç·‘ */
 input[id$="_5"] + .circle { border-color: #04ff00; color: #04ff00; } /* ç·‘é»„ */
 input[id$="_6"] + .circle { border-color: #009f18; color: #009f18; } /* ç·‘ */

 input[type="radio"]:checked + .circle {
  background-color: currentColor;
  border-color: currentColor;
 }

 /* =====================
 Â  Â ãƒ†ã‚­ã‚¹ãƒˆãƒ»ãƒœã‚¿ãƒ³é¡
 ===================== */
 .label-text {
  font-size: 12px;
  text-align: center;
 }

 .progress {
  margin-top: 8px;
  font-size: 14px;
  color: #555;
 }

 button {
  margin: 20px 8px;
  padding: 7px 18px;
  font-size: 16px;
  border: none;
  background-color: #026ffe;
  color: white;
  border-radius: 10px;
  cursor: pointer;
 }

 button:hover {
  background-color: #005fe0;
 }

 .options-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
  margin-top: 10px;
 }
 .option-btn {
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 6px;
  background: #fff;
  cursor: pointer;
  text-align: left;
 }
 .option-btn.selected {
  background: #1dbfff86;
  border: 0.5px #007BFF;
  color: #000;
 }
 .none-btn {
  text-align: center;
  font-weight: bold;
  background-color: #ddd;
 }
 .next-btn, .restart-btn {
  display: block;
  width: 100%;
  padding: 10px;
  background: #007BFF;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  margin-top: 15px;
 }
 button:hover {
opacity: 0.8;
  background: #0073ffe2;
  color: #fff;
 }
 .result {
  white-space: pre-line;
  margin-bottom: 20px;
 }
 .action-btn {
  display: block;
  width: 340px;
  max-width: 90%;
  margin: 10px auto;
  padding: 10px;
  border-radius: 8px;
  font-size: 16px;
  text-align: center;
  text-decoration: none;
  cursor: pointer;
  box-sizing: border-box;
  transition: background-color 0.3s;
 }
 .share-btn { background-color: #1DA1F2; color: #fff; font-weight: bold; }
 .share-btn:hover { background-color: #0d8ddb; }
 .ghost { background-color: #333; border: 0.5px solid #666; color: #fff; }
 .ghost:hover { background-color: #000; }
 .note-btn { background-color: #f5f5f5; border: 0.5px solid #666; color: #000; }
 .note-btn:hover { background-color: #eaeaea; }

 #promptOutput{
  text-align: left;
 }

 /* =====================
Â  Â  Â ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ
Â  ===================== */
 @media (max-width: 480px) {
  .size0 { width: 32px; height: 32px; }
  .size1 { width: 26px; height: 26px; }
  .size2 { width: 22px; height: 22px; }
  .size3 { width: 20px; height: 20px; }
  .label-text { font-size: 10px; }
  .labels { gap: 80px; }
 }
</style>

</head>
<body>



<div id="Screen">
<div id="startScreen">
 <h2>ç¤¾ä¼šäººåŸºç¤åŠ›ãƒã‚§ãƒƒã‚¯</h2>
 <p>ã‚ãªãŸã®ç¤¾ä¼šäººåŸºç¤åŠ›ï¼ˆ3åˆ†é‡ãƒ»12èƒ½åŠ›ï¼‰ã‚’æ¸¬å®šã§ãã¾ã™ã€‚<br>
 çµæœã¯ã‚°ãƒ©ãƒ•ã§è¡¨ç¤ºã•ã‚Œã€è‡ªå·±åˆ†æã‚„ã‚­ãƒ£ãƒªã‚¢å½¢æˆã«æ´»ã‹ã›ã¾ã™ã€‚</p>
 <br>

 <p>æ‰€è¦æ™‚é–“ 6ï½8åˆ†ç¨‹åº¦<br>è³ªå•æ•° 36å•</p>
 <br>
 <p>â€»ç´ ã®è‡ªåˆ†ã‚’åæ˜ ã™ã‚‹ãŸã‚ã«ã¯ç›´æ„Ÿã§å›ç­”ã™ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™</p>
 <br>


 <button id="startBtn">ãƒã‚§ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
</div>

<div id="questionScreen" style="display: none;">
 <h2>ã‚ãªãŸã®è€ƒãˆã‚„è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ï¼Ÿ</h2>
 <div class="status" id="questionText"></div>

 <div class="likert-container">
 <div class="circles" id="choices"></div>
 <div class="labels">
 <span>â—€ ã‚ã¦ã¯ã¾ã‚‰ãªã„</span>
 <span>ã‚ã¦ã¯ã¾ã‚‹ â–¶</span>
 </div>
 </div>

 <div class="progress" id="progress">1 / 36</div>

 <div>
  <button id="prevBtn">æˆ»ã‚‹</button>
  <button id="nextBtn">æ¬¡ã¸</button>
 </div>

</div>

 <div id="result-container" style="margin-top:20px;"></div>

 <div id="result-buttons" style="margin-top:20px;"></div>

 <div id="ai-analysis-section" style="display:none; margin-top:30px;">


<br>
 <h3>AIåˆ†æã‚’ä¾é ¼ã™ã‚‹</h3>

 <p>çµæœã‚’ã‚‚ã¨ã«ã€AIã«å°‚é–€å®¶ã¨ã—ã¦åˆ†æã—ã¦ã‚‚ã‚‰ã†ã“ã¨ãŒã§ãã¾ã™ã€‚</p>

  <label for="roleSelect"><strong>åˆ†æè€…ã®å½¹å‰²ï¼š</strong></label>
 <select id="roleSelect">
  <option value="ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ">ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ</option>
  <option value="ãƒ¡ãƒ³ã‚¿ãƒ«ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼">ãƒ¡ãƒ³ã‚¿ãƒ«ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼</option>
  <option value="äººäº‹ã‚³ãƒ¼ãƒ">äººäº‹ã‚³ãƒ¼ãƒ</option>
  <option value="çµ„ç¹”å¿ƒç†å£«">çµ„ç¹”å¿ƒç†å£«</option>
 </select>
<br>
  <label for="focusSelect" style="margin-left:10px;"><strong>åˆ†æã®æ–¹å‘æ€§ï¼š</strong></label>
 <select id="focusSelect">
  <option value="é©è·è¨ºæ–­">é©è·è¨ºæ–­</option>
  <option value="å¼·ã¿æ´»ç”¨ã‚¢ãƒ‰ãƒã‚¤ã‚¹">å¼·ã¿æ´»ç”¨ã‚¢ãƒ‰ãƒã‚¤ã‚¹</option>
  <option value="æˆé•·èª²é¡Œã®æ•´ç†">æˆé•·èª²é¡Œã®æ•´ç†</option>
  <option value="è‡ªå·±PRä½œæˆã®ãƒ’ãƒ³ãƒˆ">è‡ªå·±PRä½œæˆã®ãƒ’ãƒ³ãƒˆ</option>
 </select>
<br>
<br>
<span>ã‚ãªãŸã®MBTIã‚¿ã‚¤ãƒ—ã‚‚è€ƒæ…®ã—ãŸåˆ†æã‚’å¸Œæœ›ã™ã‚‹å ´åˆã«é¸æŠã—ã¦ãã ã•ã„ã€‚</span>
<br>
 <label for="MBTISelect" style="margin-left:10px;"><strong>MBTIã‚¿ã‚¤ãƒ—ï¼š</strong></label>
 <select id="MBTISelect">
  <option value="æœªé¸æŠ">æœªé¸æŠ</option>
  <option value="ISTJ">ISTJã€€ç®¡ç†è€…</option>
  <option value="ISFJ">ISFJã€€æ“è­·è€…</option>
  <option value="INFJ">INFJã€€æå”±è€…</option>
  <option value="INTJ">INTJã€€å»ºç¯‰å®¶</option>
  <option value="ISTP">ISTPã€€å·¨åŒ </option>
  <option value="ISFP">ISFPã€€å†’é™ºå®¶</option>
  <option value="INFP">INFPã€€ä»²ä»‹è€…</option>
  <option value="INTP">INTPã€€è«–ç†å­¦è€…</option>
  <option value="ESTP">ESTPã€€èµ·æ¥­å®¶</option>
  <option value="ESFP">ESFPã€€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒŠãƒ¼</option>
  <option value="ENFP">ENFPã€€é‹å‹•å®¶ï¼ˆæ´»å‹•å®¶ï¼‰</option>
  <option value="ENTP">ENTPã€€è¨è«–è€…</option>
  <option value="ESTJ">ESTJã€€å¹¹éƒ¨</option>
  <option value="ESFJ">ESFJã€€é ˜äº‹</option>
  <option value="ENFJ">ENFJã€€ä¸»äººå…¬</option>
  <option value="ENTJ">ENTJã€€æŒ‡æ®å®˜</option>
  <option value="ã©ã®ã‚¿ã‚¤ãƒ—ã‹å½“ã¦ã¦ã¿ã¦">ã©ã®ã‚¿ã‚¤ãƒ—ã‹å½“ã¦ã¦ã¿ã¦</option>
 </select>
<br>
  <button id="generatePromptBtn" style="margin-left:10px;">ğŸ” AIåˆ†æãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆ</button>

  <div id="promptOutput" style="margin-top:15px; white-space:pre-wrap; background:#f8f9fa; border-radius:8px; padding:10px;"></div>
  <button id="copyPromptBtn" style="margin-top:10px; display:none; background-color:#0073ff;">ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼</button>
</div>
</div>

<script>
const startBtn = document.getElementById("startBtn");
const startScreen = document.getElementById("startScreen");
const questionScreen = document.getElementById("questionScreen");

startBtn.addEventListener("click", () => {
// ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ã‚’éè¡¨ç¤º
startScreen.style.display = "none";

// è³ªå•ç”»é¢ã‚’è¡¨ç¤º
questionScreen.style.display = "block";
});

/* =====================
Â  Â è³ªå•ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
===================== */
const questions = [
{ id:1, category:"action", ability:"A", text:"è‡ªåˆ†è‡ªèº«ã®æ„æ€ã‚„ä¾¡å€¤è¦³ã«åŸºã¥ã„ã¦è€ƒãˆè¡Œå‹•ã™ã‚‹", answer:null },
{ id:2, category:"action", ability:"A", text:"è‡ªå·±å•“ç™ºã«ç©æ¥µçš„ã«å–ã‚Šçµ„ã‚“ã§ã„ã‚‹", answer:null },
{ id:3, category:"action", ability:"A", text:"ä½•äº‹ã‚‚è‡ªåˆ†ã”ã¨ã¨ã—ã¦å—ã‘æ­¢ã‚ã¦è¡Œå‹•ã™ã‚‹", answer:null },
{ id:4, category:"action", ability:"B", text:"ä»–è€…ã‚„å‘¨å›²ã®ç’°å¢ƒã«å¯¾ã—ã¦è‡ªåˆ†ã‹ã‚‰ç©æ¥µçš„ã«é–¢ã‚ã‚‹", answer:null },
{ id:5, category:"action", ability:"B", text:"ç›¸æ‰‹ã®è¡Œå‹•ã‚„è€ƒãˆæ–¹ã‚’å¤‰ãˆãŸã‚Šå”åŠ›ã‚’å¼•ãå‡ºã—ã¦ã„ã‚‹", answer:null },
{ id:6, category:"action", ability:"B", text:"ä»–è€…ã«é–¢ã‚ã‚‹ã¨ãã¯æ”»æ’ƒçš„ãªè¨€å‹•ã¯é¿ã‘ã¦ã„ã‚‹", answer:null },
{ id:7, category:"action", ability:"C", text:"è€ƒãˆãŸã“ã¨ã‚„è¨ˆç”»ã—ãŸã“ã¨ã‚’ã€å®Ÿéš›ã«è¡Œå‹•ã«ç§»ã—ã¦æˆæœã‚’å‡ºã™", answer:null },
{ id:8, category:"action", ability:"C", text:"è‡ªåˆ†ã§ç›®æ¨™ã‚’ç«‹ã¦ã€ç²˜ã‚Šå¼·ãå–ã‚Šçµ„ã‚€", answer:null },
{ id:9, category:"action", ability:"C", text:"æœ€å¾Œã¾ã§è«¦ã‚ãšã«ã‚„ã‚Šé‚ã’ã‚‹", answer:null },
{ id:10, category:"action", ability:"D", text:"ç¾çŠ¶ã‚’å®¢è¦³çš„ã«ã¨ã‚‰ãˆã€å•é¡Œç‚¹ã‚„æ”¹å–„ç‚¹ã‚’è¦‹ã¤ã‘å‡ºã™", answer:null },
{ id:11, category:"action", ability:"D", text:"ãªãœãã†ãªã£ã¦ã„ã‚‹ã‹ã‚’å¸¸ã«è€ƒãˆã€ã‚‚ã®ã”ã¨ã®æœ¬è³ªã‚’æ¢ã‚‹", answer:null },
{ id:12, category:"action", ability:"D", text:"ç¾çŠ¶ã¨ã‚ã‚‹ã¹ãå§¿ã¨ã®ã‚®ãƒ£ãƒƒãƒ—ã‚’æ„è­˜ã—ã¦ã„ã‚‹", answer:null },
{ id:13, category:"action", ability:"E", text:"ç›®æ¨™é”æˆã«å¿…è¦ãªæ‰‹é †ã‚„è³‡æºã‚’æ•´ç†ã—ã€ç¾å®Ÿçš„ãªé“ç­‹ã‚’ç«‹ã¦ã‚‹", answer:null },
{ id:14, category:"action", ability:"E", text:"çŠ¶æ³ã‚’è¦‹æ¥µã‚ãªãŒã‚‰æŸ”è»Ÿã«èª¿æ•´ã—ã¦å®Ÿè¡Œå¯èƒ½ãªå½¢ã«è½ã¨ã—è¾¼ã‚€", answer:null },
{ id:15, category:"action", ability:"E", text:"æœ€å–„ã®ãƒ—ãƒ­ã‚»ã‚¹ã®è¤‡æ•°æ¡ˆã‚’æ¤œè¨ã™ã‚‹", answer:null },
{ id:16, category:"action", ability:"F", text:"æ—¢å­˜ã®æ ã«ã¨ã‚‰ã‚ã‚Œãšã«æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚„ä¾¡å€¤è¦³ã‚’æ€ã„ã¤ã", answer:null },
{ id:17, category:"action", ability:"F", text:"çŸ¥è­˜ã‚„çµŒé¨“ã‚’çµ„ã¿åˆã‚ã›ã¦ã€æ–°ã—ã„ç™ºæƒ³ã‚„è§£æ±ºç­–ã‚’æ€ã„ã¤ã", answer:null },
{ id:18, category:"action", ability:"F", text:"æ™‚ä»£ã®å¤‰åŒ–ã‚’å…ˆå–ã‚Šã—ã¦ç”Ÿæ´»ã‚„ä»•äº‹ã®ä¸­ã§å–ã‚Šå…¥ã‚Œã¦ã„ã‚‹", answer:null },
{ id:19, category:"action", ability:"G", text:"è‡ªåˆ†ã®è€ƒãˆã‚„æ„Ÿæƒ…ãªã©ã‚’ç›¸æ‰‹ã«åˆ†ã‹ã‚Šã‚„ã™ãåŠ¹æœçš„ã«ä¼ãˆã‚‹", answer:null },
{ id:20, category:"action", ability:"G", text:"å˜ã«è©±ã™ãƒ»æ›¸ãã ã‘ã§ãªãã€ã€Œä½•ã‚’ã€ã€Œã©ã†ä¼ãˆã‚‹ã‹ã€ã‚’æ„è­˜ã™ã‚‹", answer:null },
{ id:21, category:"action", ability:"G", text:"è©±ã™ã¨ãã¯æ°—æŒã¡ã‚’è¾¼ã‚ãªãŒã‚‰è¦–ç·šã‚’ç›¸æ‰‹ã«å‘ã‘ã¦ã„ã‚‹", answer:null },
{ id:22, category:"action", ability:"H", text:"ç›¸æ‰‹ã®è©±ã‚’ãŸã ã€Œèãã€ã®ã§ã¯ãªãã€æ·±ãç†è§£ã—ã‚ˆã†ã¨ã™ã‚‹", answer:null },
{ id:23, category:"action", ability:"H", text:"ç›¸æ‰‹ã®æ„Ÿæƒ…ã‚„æ„å›³ã€èƒŒæ™¯ã¾ã§ã‚’å¯Ÿã™ã‚‹ã“ã¨ã§ä¿¡é ¼é–¢ä¿‚ã‚’ç¯‰ã", answer:null },
{ id:24, category:"action", ability:"H", text:"é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§è³ªå•ã—ã¦æ„è¦‹ã‚’å¼•ãå‡ºã™", answer:null },
{ id:25, category:"action", ability:"I", text:"çŠ¶æ³ã®å¤‰åŒ–ã‚„ç›¸æ‰‹ã®è€ƒãˆã«å¿œã˜ã¦ã€è‡ªåˆ†ã®è¡Œå‹•ã‚„è€ƒãˆæ–¹ã‚’èª¿æ•´ã™ã‚‹", answer:null },
{ id:26, category:"action", ability:"I", text:"è‡ªåˆ†ã®è»¸ã‚’æŒã¡ãªãŒã‚‰ã‚‚ã€ã“ã ã‚ã‚Šã™ããšã€æœ€é©ãªå¯¾å¿œã‚’é¸ã¶", answer:null },
{ id:27, category:"action", ability:"I", text:"ä»–è€…ã‹ã‚‰ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ç´ ç›´ã«å—ã‘å…¥ã‚Œã‚‹", answer:null },
{ id:28, category:"action", ability:"J", text:"ç›®ã®å‰ã®çŠ¶æ³ã‚„å‘¨å›²ã®å¤‰åŒ–ã‚’æ­£ç¢ºã«èª­ã¿å–ã£ã¦ç†è§£ã—ã¦ã„ã‚‹", answer:null },
{ id:29, category:"action", ability:"J", text:"ãƒãƒ¼ãƒ ã§åƒãã¨ãã¯ã€è‡ªåˆ†ã®å½¹å‰²ã‚’ç†è§£ã—ã¦è¡Œå‹•ã™ã‚‹", answer:null },
{ id:30, category:"action", ability:"J", text:"ãƒãƒ¼ãƒ å…¨ä½“ã¸æ°—ã‚’é…ã‚Šã€åˆ©å·±çš„ãªæ…‹åº¦ã¯ã¨ã‚‰ãªã„", answer:null },
{ id:31, category:"action", ability:"K", text:"ãƒ«ãƒ¼ãƒ«ã‚„ç´„æŸãƒ»æ™‚é–“ãƒ»æ‰‹é †ãªã©ã‚’å®ˆã‚‹", answer:null },
{ id:32, category:"action", ability:"K", text:"å€«ç†è¦³ã‚’ã‚‚ã£ã¦å…¬æ­£ã«å¯¾å¿œã—ã€ç¤¾ä¼šã®ãƒ«ãƒ¼ãƒ«ã«å‰‡ã£ã¦è¡Œå‹•ã™ã‚‹", answer:null },
{ id:33, category:"action", ability:"K", text:"æ±ºã‚ã‚‰ã‚ŒãŸã“ã¨ã«ã¯ç´ ç›´ã«å¾“ã†", answer:null },
{ id:34, category:"action", ability:"L", text:"å¿ƒèº«ã«è² è·ãŒã‹ã‹ã£ãŸçŠ¶æ³ã§ã‚‚å†·é™ã•ã‚’ä¿ã£ã¦ã‚³ãƒ³ãƒˆãƒ¼ãƒ«ã§ãã‚‹", answer:null },
{ id:35, category:"action", ability:"L", text:"ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ãŸã¨ãã®è‡ªåˆ†ãªã‚Šã®æ°—æ™´ã‚‰ã—ã®æ–¹æ³•ã‚’æŒã£ã¦ã„ã‚‹", answer:null },
{ id:36, category:"action", ability:"L", text:"ã‚¹ãƒˆãƒ¬ã‚¹ã®ã‚ã‚‹çŠ¶æ³ã«å¯¾ã—ã¦ã€æˆé•·ã®æ©Ÿä¼šã ã¨å‰å‘ãã«ã¨ã‚‰ãˆã‚‹", answer:null }
];

/* =====================
Â  Â ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ­ã‚¸ãƒƒã‚¯
===================== */
let current = 0;
const total = questions.length;

const questionText = document.getElementById("questionText");
const choicesDiv = document.getElementById("choices");
const progress = document.getElementById("progress");
const container = document.getElementById("result-container");

// --------------------
// è³ªå•æç”»
// --------------------
function renderQuestion() {
 const q = questions[current];
 questionText.textContent = `Q${q.id}. ${q.text}`;
 progress.textContent = `${current + 1} / ${total}`;
 renderChoices();
}

function renderChoices() {
 choicesDiv.innerHTML = "";
 for (let i = 0; i < 7; i++) {
  const input = document.createElement("input");
  input.type = "radio";
  input.name = "answer";
  input.id = `q${current}_${i}`;
  input.value = i;
  const label = document.createElement("label");
  label.className =
   i === 0 || i === 6
    ? "circle size0"
    : i === 1 || i === 5
    ? "circle size1"
    : i === 2 || i === 4
    ? "circle size2"
    : "circle size3";
  label.setAttribute("for", input.id);
  if (questions[current].answer === i) input.checked = true;
  input.addEventListener("change", () => (questions[current].answer = i));
  choicesDiv.appendChild(input);
 choicesDiv.appendChild(label);
 }
}

document.getElementById("nextBtn").addEventListener("click", () => {
 if (questions[current].answer === null) {
  alert("å›ç­”ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚");
  return;
 }
 if (current < total - 1) {
  current++;
  renderQuestion();
 } else {
  if (confirm("å…¨ã¦ã®è³ªå•ã«å›ç­”ã—ã¾ã—ãŸã€‚çµæœã‚’è¡¨ç¤ºã—ã¾ã™ã‹ï¼Ÿ")) showResult();
 }
});

document.getElementById("prevBtn").addEventListener("click", () => {
 if (current > 0) {
  current--;
  renderQuestion();
 }
});

renderQuestion();

// --------------------
// å›ç­”é›†è¨ˆ
// --------------------
function getAnswersFromQuestions(qs) {
 const answers = {};
 qs.forEach((q) => {
  if (!answers[q.ability]) answers[q.ability] = [];
  answers[q.ability].push(q.answer ?? 0);
 });
 return answers;
}


function calculateScores(answers) {
 const scores = { A: 0, B: 0, C: 0, D: 0, E: 0, F: 0, G: 0, H: 0, I: 0, J: 0, K: 0, L: 0 };
 const category = { action: 0, thinking: 0, teamwork: 0 };

 // å„èƒ½åŠ›ãŒå­˜åœ¨ã™ã‚‹å ´åˆã ã‘reduceã‚’å®Ÿè¡Œ
 for (const key in scores) {
  if (answers[key]) {
   scores[key] = answers[key].reduce((total, num) => total + num, 0);
  }
 }

 // ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥åˆè¨ˆ
 category.action = scores.A + scores.B + scores.C;
 category.thinking = scores.D + scores.E + scores.F;
 category.teamwork = scores.G + scores.H + scores.I + scores.J + scores.K + scores.L;

 return { scores, category };
}


// --------------------
// ã‚¹ã‚³ã‚¢æ­£è¦åŒ–
// --------------------
function normalizeScores(scores, category) {
/*
 // ã‚¢ãƒ“ãƒªãƒ†ã‚£ã‚¹ã‚³ã‚¢ã‚’0~5ã«æ­£è¦åŒ–
 const normalized12 = {
  A: parseFloat((scores.A / 18 * 5).toFixed(1)),
  B: parseFloat((scores.B / 18 * 5).toFixed(1)),
  C: parseFloat((scores.C / 18 * 5).toFixed(1)),
  D: parseFloat((scores.D / 18 * 5).toFixed(1)),
  E: parseFloat((scores.E / 18 * 5).toFixed(1)),
  F: parseFloat((scores.F / 18 * 5).toFixed(1)),
  G: parseFloat((scores.G / 18 * 5).toFixed(1)),
  H: parseFloat((scores.H / 18 * 5).toFixed(1)),
  I: parseFloat((scores.I / 18 * 5).toFixed(1)),
  J: parseFloat((scores.J / 18 * 5).toFixed(1)),
  K: parseFloat((scores.K / 18 * 5).toFixed(1)),
  L: parseFloat((scores.L / 18 * 5).toFixed(1)),
 };
*/
  // ã‚¢ãƒ“ãƒªãƒ†ã‚£ã‚¹ã‚³ã‚¢ã‚’0~10ã«æ­£è¦åŒ–
 const normalized12 = {
  A: parseFloat((scores.A / 18 * 10).toFixed(1)),
  B: parseFloat((scores.B / 18 * 10).toFixed(1)),
  C: parseFloat((scores.C / 18 * 10).toFixed(1)),
  D: parseFloat((scores.D / 18 * 10).toFixed(1)),
  E: parseFloat((scores.E / 18 * 10).toFixed(1)),
  F: parseFloat((scores.F / 18 * 10).toFixed(1)),
  G: parseFloat((scores.G / 18 * 10).toFixed(1)),
  H: parseFloat((scores.H / 18 * 10).toFixed(1)),
  I: parseFloat((scores.I / 18 * 10).toFixed(1)),
  J: parseFloat((scores.J / 18 * 10).toFixed(1)),
  K: parseFloat((scores.K / 18 * 10).toFixed(1)),
  L: parseFloat((scores.L / 18 * 10).toFixed(1)),
 };


 // ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚¹ã‚³ã‚¢ã‚’0~10ã«æ­£è¦åŒ–
 let actionScore = parseFloat((category.action / 54 * 10).toFixed(1));
 let thinkingScore = parseFloat((category.thinking / 54 * 10).toFixed(1));
 let teamworkScore = parseFloat((category.teamwork / 108 * 10).toFixed(1));


 return { normalized12, actionScore, thinkingScore, teamworkScore };
}


// --------------------
// ãƒãƒ£ãƒ¼ãƒˆæç”»
// --------------------
function renderBarChart(container, actionScore, thinkingScore, teamworkScore) {
Â  const canvas = document.createElement("canvas");
Â  container.appendChild(canvas);

 new Chart(canvas, {
  type: "bar",
  data: {
   labels: ["å‰ã«è¸ã¿å‡ºã™åŠ›", "è€ƒãˆæŠœãåŠ›", "ãƒãƒ¼ãƒ ã§åƒãåŠ›"],
   datasets: [
    {
     label: "3å¤§åˆ†é¡ã‚¹ã‚³ã‚¢",
     data: [actionScore, thinkingScore, teamworkScore],
     backgroundColor: [
      "rgba(250, 50, 50, 0.4)",
      "rgba(0, 50, 250, 0.4)",
      "rgba(50, 250, 50, 0.4)",
     ],
     borderColor: [
      "rgba(250, 50, 50, 1)",
      "rgba(0, 50, 250, 1)",
      "rgba(50, 250, 50, 1)",
   ],
     borderWidth: 0.5,
    },
   ],
  },
  options: {
   indexAxis: "y",
   responsive: true,
   scales: { x: { beginAtZero: true, max: 10 } },
   plugins: { legend: { display: false } },
  },
 });
}

function renderRadarChart(container, normalized12) {
 const radarData = ["A","B","C","D","E","F","G","H","I","J","K","L"].map(k => normalized12[k] ?? 0);
 const canvas = document.createElement("canvas");
 container.appendChild(canvas);

 new Chart(canvas, {
  type: "radar",
  data: {
   labels: ["ä¸»ä½“æ€§","åƒãã‹ã‘åŠ›","å®Ÿè¡ŒåŠ›","èª²é¡Œç™ºè¦‹åŠ›","è¨ˆç”»åŠ›","å‰µé€ åŠ›",
       "ç™ºä¿¡åŠ›","å‚¾è´åŠ›","æŸ”è»Ÿæ€§","çŠ¶æ³æŠŠæ¡åŠ›","è¦å¾‹æ€§","ï½½ï¾„ï¾šï½½ï½ºï¾ï¾„ï¾›ï½°ï¾™åŠ›"],
   datasets: [
    {
     label: "12èƒ½åŠ›ã‚¹ã‚³ã‚¢",
     data: radarData,
     backgroundColor: "rgba(240, 200, 0, 0.4)",
     borderColor: "rgba(255, 160, 0, 1)",
     borderWidth: 0.5,
     pointBackgroundColor: "rgba(255, 100, 0, 1)",
     pointRadius: 2,
    },
   ],
  },
  options: {
   responsive: true,
   //scales: { r: { min: 0, max: 5, ticks: { stepSize: 1 } } }, //ç‚¹æ•°ã‚¹ã‚±ãƒ¼ãƒ«5ç‚¹
   scales: { r: { min: 0, max: 10, ticks: { stepSize: 2 } } }, //ç‚¹æ•°ã‚¹ã‚±ãƒ¼ãƒ«10ç‚¹
   plugins: { legend: { display: false } },
  },
 });
}


// --------------------
// çµæœã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ä½œæˆ
// --------------------
function createShareLink(action, thinking, teamwork) {
 const text = encodeURIComponent(
  `ç¤¾ä¼šäººåŸºç¤åŠ›è¨ºæ–­ã®çµæœï¼š\nå‰ã«è¸ã¿å‡ºã™åŠ›ï¼š${action}\nè€ƒãˆæŠœãåŠ›ï¼š${thinking}\nãƒãƒ¼ãƒ ã§åƒãåŠ›ï¼š${teamwork}\n#ç¤¾ä¼šäººåŸºç¤åŠ›è¨ºæ–­`
 );
 return `https://twitter.com/intent/tweet?text=${text}`;
}

function renderResultButtons(actionScore, thinkingScore, teamworkScore) {
 const buttonsContainer = document.getElementById("result-buttons");
 buttonsContainer.innerHTML = "";

 const shareBtn = document.createElement("a");
 shareBtn.href = createShareLink(actionScore, thinkingScore, teamworkScore);
 shareBtn.target = "_blank";
 shareBtn.rel = "noopener noreferrer";
 shareBtn.className = "action-btn share-btn";
 shareBtn.textContent = "Xã§ã‚·ã‚§ã‚¢";
 buttonsContainer.appendChild(shareBtn);

 const restartBtn = document.createElement("button");
 restartBtn.className = "action-btn ghost";
 restartBtn.textContent = "ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹";
 restartBtn.addEventListener("click", () => location.reload());
 buttonsContainer.appendChild(restartBtn);

 const noteBtn = document.createElement("a");
 noteBtn.href = "https://note.com/alc_chron2025";
 noteBtn.target = "_blank";
 noteBtn.rel = "noopener noreferrer";
 noteBtn.className = "action-btn note-btn";
 noteBtn.textContent = "noteãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«";
 buttonsContainer.appendChild(noteBtn);
}

// --------------------
// çµæœè¡¨ç¤º
// --------------------
function showResult() {
 
  // è³ªå•ç”»é¢ã‚’éè¡¨ç¤º
  questionScreen.style.display = "none";

 
 const container = document.getElementById("result-container");
 container.innerHTML = "";

 // ãƒ˜ãƒƒãƒ€ãƒ¼
 container.insertAdjacentHTML(
  "beforeend",
  '<div style="text-align:center;font-size:16px;font-weight:bold;">ã€Šç¤¾ä¼šäººåŸºç¤åŠ›ãƒã‚§ãƒƒã‚¯ã®çµæœã€‹<br><br></div>'
 );

 // â‘ å›ç­”é›†è¨ˆâ†’ã‚¹ã‚³ã‚¢è¨ˆç®—â†’æ­£è¦åŒ–
 const answers = getAnswersFromQuestions(questions);
 const scoresObj = calculateScores(answers);
 const { normalized12, actionScore, thinkingScore, teamworkScore } = normalizeScores(
  scoresObj.scores,
  scoresObj.category
 );

 // â‘¡æ£’ã‚°ãƒ©ãƒ•ï¼ˆ3å¤§åˆ†é¡ï¼‰
 renderBarChart(container, actionScore, thinkingScore, teamworkScore);

 // â‘¢ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆï¼ˆ12èƒ½åŠ›ï¼‰
 renderRadarChart(container, normalized12);

//////////////////////////////////////////////////////////////////////////////////////
// â‘¤ èª²é¡Œä¸‹ä½3ï¼ˆ5ç‚¹æœªæº€ã®ã¿è¡¨ç¤ºï¼‰
function getBottom3Abilities(normalized12) {
 // ã‚¹ã‚³ã‚¢ã‚’æ˜‡é †ã«ä¸¦ã¹æ›¿ãˆ
 const sorted = Object.entries(normalized12).sort((a, b) => a[1] - b[1]);
 // ä¸‹ä½3ä»¶ã‚’å–å¾—
 return sorted.slice(0, 3);
}

// --- è¡¨ç¤ºå‡¦ç† ---
const labelMap = {
 A:"ä¸»ä½“æ€§", B:"åƒãã‹ã‘åŠ›", C:"å®Ÿè¡ŒåŠ›", D:"èª²é¡Œç™ºè¦‹åŠ›",
 E:"è¨ˆç”»åŠ›", F:"å‰µé€ åŠ›", G:"ç™ºä¿¡åŠ›", H:"å‚¾è´åŠ›",
 I:"æŸ”è»Ÿæ€§", J:"çŠ¶æ³æŠŠæ¡åŠ›", K:"è¦å¾‹æ€§", L:"ï½½ï¾„ï¾šï½½ï½ºï¾ï¾„ï¾›ï½°ï¾™åŠ›"
};

// å¼·ã¿ï¼ˆ6ç‚¹ä»¥ä¸Šï¼‰
const top3 = getTop3Abilities(normalized12).filter(([_, score]) => score >= 6);
const topDiv = document.createElement("div");
topDiv.style.marginTop = "10px";
topDiv.innerHTML = "<strong>ã€Š ã‚ãªãŸã®å¼·ã¿ ã€‹</strong><br>" +
 (top3.length > 0
  ? top3.map(([key, score]) => `${labelMap[key]}ï¼š${score} /10ç‚¹`).join("<br>")
  : "è©²å½“ãªã—ï¼ˆ6ç‚¹ä»¥ä¸Šã®é …ç›®ãŒã‚ã‚Šã¾ã›ã‚“ï¼‰");
container.appendChild(topDiv);

// èª²é¡Œ
const bottom3 = getBottom3Abilities(normalized12).filter(([_, score]) => score <= 5);
const weakDiv = document.createElement("div");
weakDiv.style.marginTop = "10px";
weakDiv.innerHTML = "<strong>ã€Š ã‚ãªãŸã®èª²é¡Œ ã€‹</strong><br>" +
 (bottom3.length > 0
  ? bottom3.map(([key, score]) => `${labelMap[key]}ï¼š${score} /10ç‚¹`).join("<br>")
  : "è©²å½“ãªã—ï¼ˆ5ç‚¹æœªæº€ã®é …ç›®ãŒã‚ã‚Šã¾ã›ã‚“ï¼‰");
container.appendChild(weakDiv);
//////////////////////////////////////////////////////////////////////////////////////Â Â 



 // â‘¥é«˜å¾—ç‚¹ã‚«ãƒ†ã‚´ãƒªãƒ¼ï¼ˆé–¾å€¤7ä»¥ä¸Šï¼‰
 const highCategories = getHighCategoryScores(actionScore, thinkingScore, teamworkScore, 7);
 if (highCategories.length > 0) {
  const catDiv = document.createElement("div");
  catDiv.style.marginTop = "10px";
  catDiv.innerHTML = "<strong>ã€Š ã‚ãªãŸã®å¾—æ„é ˜åŸŸ ã€‹</strong><br> " + highCategories.join(", ");
  container.appendChild(catDiv);
 }


 // å‹•ç‰©ã‚­ãƒ£ãƒ©å‰²ã‚Šå½“ã¦
 const abilityToAnimal = {
 A: { name: "ä¸»ä½“æ€§ã®é«˜ã„ã‚¦ãƒ", img: "animals/uma.png" },
 B: { name: "åƒãã‹ã‘åŠ›ã«å„ªã‚ŒãŸãƒ©ã‚¤ã‚ªãƒ³", img: "animals/lion.png" },
 C: { name: "å®Ÿè¡ŒåŠ›ã®ã‚ã‚‹ãƒãƒ¼ã‚¿ãƒ¼", img: "animals/cheetah.png" },
 D: { name: "èª²é¡Œç™ºè¦‹åŠ›ã«å„ªã‚ŒãŸãƒ•ã‚¯ãƒ­ã‚¦", img: "animals/owl.png" },
 E: { name: "è¨ˆç”»åŠ›ã®é«˜ã„ãƒªã‚¹", img: "animals/squirrel.png" },
 F: { name: "å‰µé€ åŠ›è±Šã‹ãªãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³", img: "animals/unicorn.png" },
 G: { name: "ç™ºä¿¡åŠ›ã‚’ã‚‚ã£ã¦ã„ã‚‹ã‚¯ã‚¸ãƒ£ã‚¯", img: "animals/peacock.png" },
 H: { name: "å‚¾è´åŠ›ã«å„ªã‚ŒãŸã‚¾ã‚¦", img: "animals/elephant.png" },
 I: { name: "æŸ”è»Ÿæ€§ãŒé«˜ã„ã‚«ãƒ¡ãƒ¬ã‚ªãƒ³", img: "animals/chameleon.png" },
 J: { name: "çŠ¶æ³æŠŠæ¡åŠ›ã«å„ªã‚ŒãŸã‚ªã‚ªã‚«ãƒŸ", img: "animals/wolf.png" },
 K: { name: "è¦å¾‹æ€§ãŒé«˜ã„ãƒšãƒ³ã‚®ãƒ³", img: "animals/penguin.png" },
 L: { name: "ï½½ï¾„ï¾šï½½ï½ºï¾ï¾„ï¾›ï½°ï¾™åŠ›ã‚’ã‚‚ã£ã¦ã„ã‚‹ãƒ©ã‚¯ãƒ€", img: "animals/camel.png" }
};


function getAnimalCharacter(normalized12, threshold = 3) {
 const scores = Object.values(normalized12);
 const maxScore = Math.max(...scores);

 // ã™ã¹ã¦ã®èƒ½åŠ›ãŒé–¾å€¤ä»¥ä¸‹ãªã‚‰ãƒ’ãƒ¨ã‚³
 if (scores.every(s => s <= threshold)) {
  return { name: "å¤§å™¨æ™©æˆå‹ã®ãƒ’ãƒ¨ã‚³", img: "animals/chick.png" };
 }

 // æœ€é«˜ç‚¹ãŒ2ã¤ä»¥ä¸Šã‚ã‚‹å ´åˆã¯ã‚¤ãƒ«ã‚«
 const topCount = scores.filter(s => s === maxScore).length;
 if (topCount >= 2) {
  return { name: "ãƒãƒ«ãƒèƒ½åŠ›ã«å„ªã‚ŒãŸã‚¤ãƒ«ã‚«", img: "animals/dolphin.png" };
 }

 // ãƒˆãƒƒãƒ—1ãŒ1ã¤ã®å ´åˆã¯é€šå¸¸ã®å‹•ç‰©ã«ç´ã¥ã‘
 const topKey = Object.keys(normalized12).find(key => normalized12[key] === maxScore);
 return abilityToAnimal[topKey];
}



// ----- å‹•ç‰©ã‚­ãƒ£ãƒ©è¡¨ç¤º -----
const animal = getAnimalCharacter(normalized12); // ã“ã“ã§ãƒˆãƒƒãƒ—1ã‚‚è¤‡æ•°ã‚‚é–¾å€¤ã‚‚åˆ¤å®š

const animalDiv = document.createElement("div");
animalDiv.style.marginTop = "10px";
animalDiv.innerHTML = `
 <strong>ã€Š ã‚ãªãŸã®å‹•ç‰©ã‚­ãƒ£ãƒ©è¨ºæ–­ ã€‹</strong><br>
 ${animal.name}<br>
 <img src="${animal.img}" alt="${animal.name}" style="width:240px;height:auto;margin-top:5px;">
`;
container.appendChild(animalDiv);

//////////////////////////////////////////////////////////////////////////////
// çµæœè¡¨ç¤ºã®æœ€å¾Œã«AIåˆ†æã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
document.getElementById("ai-analysis-section").style.display = "block";
//////////////////////////////////////////////////////////////////////////////


 // â‘¦çµæœã‚·ã‚§ã‚¢ãƒ»å†è¨ºæ–­ãƒ»noteãƒœã‚¿ãƒ³
 renderResultButtons(actionScore, thinkingScore, teamworkScore);
}

// ---- è£œåŠ©é–¢æ•° ----
function getTop3Abilities(normalized12) {
 const abilitiesArray = Object.entries(normalized12);
 abilitiesArray.sort((a, b) => b[1] - a[1]);
 return abilitiesArray.slice(0, 3);
}

// (ä¿®æ­£) showResultã‹ã‚‰ã“ã¡ã‚‰ã«ç§»å‹•
function getBottom3Abilities(normalized12) {
 // ã‚¹ã‚³ã‚¢ã‚’æ˜‡é †ã«ä¸¦ã¹æ›¿ãˆ
 const sorted = Object.entries(normalized12).sort((a, b) => a[1] - b[1]);
 // ä¸‹ä½3ä»¶ã‚’å–å¾—
 return sorted.slice(0, 3);
}

function getHighCategoryScores(actionScore, thinkingScore, teamworkScore, threshold = 7) {
 const highCategories = [];
 if (actionScore >= threshold) highCategories.push("ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é ˜åŸŸ");
 if (thinkingScore >= threshold) highCategories.push("ã‚·ãƒ³ã‚­ãƒ³ã‚°é ˜åŸŸ");
 if (teamworkScore >= threshold) highCategories.push("ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é ˜åŸŸ");
 return highCategories;
}

// ===================== 
// AIåˆ†æãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
// =====================
// é‡è¤‡ã™ã‚‹ãƒªã‚¹ãƒŠãƒ¼ã‚’å‰Šé™¤ã—ã€ã“ã¡ã‚‰ã«ä¸€æœ¬åŒ–
const generateBtn = document.getElementById("generatePromptBtn");
const roleSelect = document.getElementById("roleSelect");
const focusSelect = document.getElementById("focusSelect");
const MBTISelect = document.getElementById("MBTISelect");
const promptOutput = document.getElementById("promptOutput");

generateBtn.addEventListener("click", () => {
 const role = roleSelect.value;
 const focus = focusSelect.value;
 const MBTI = MBTISelect.value;

 // å¸¸ã«æœ€æ–°ã®ã‚¹ã‚³ã‚¢ã‚’å†è¨ˆç®—ã—ã¦ä½¿ç”¨ã™ã‚‹
 const { scores, category } = calculateScores(getAnswersFromQuestions(questions));
 const { normalized12, actionScore, thinkingScore, teamworkScore } = normalizeScores(scores, category);

 // ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
 const prompt = `
ã‚ãªãŸã¯ç†Ÿç·´ã—ãŸ${role}ã§ã™ã€‚
ä»¥ä¸‹ã®ç¤¾ä¼šäººåŸºç¤åŠ›è¨ºæ–­ã®çµæœã‚’ã‚‚ã¨ã«ã€${focus}ã®è¦³ç‚¹ã‹ã‚‰ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

ã€3åˆ†é‡ã‚¹ã‚³ã‚¢ã€‘â€¦10ç‚¹æº€ç‚¹ã§è©•ä¾¡ï¼ˆ7ç‚¹ä»¥ä¸Šâ¡å¾—æ„åˆ†é‡ã€5ç‚¹ä»¥ä¸‹â¡è‹¦æ‰‹åˆ†é‡ï¼‰
ãƒ»å‰ã«è¸ã¿å‡ºã™åŠ›ï¼ˆActionï¼‰ï¼š${actionScore} /10ç‚¹
ãƒ»è€ƒãˆæŠœãåŠ›ï¼ˆThinkingï¼‰ï¼š${thinkingScore} /10ç‚¹
ãƒ»ãƒãƒ¼ãƒ ã§åƒãåŠ›ï¼ˆTeamworkï¼‰ï¼š${teamworkScore} /10ç‚¹



ã€12èƒ½åŠ›ã‚¹ã‚³ã‚¢ï¼ˆ5æ®µéšï¼‰ã€‘â€¦10ç‚¹æº€ç‚¹ã§è©•ä¾¡ï¼ˆ5ç‚¹ä»¥ä¸‹ã¯èª²é¡Œï¼‰
ä¸»ä½“æ€§ï¼š${normalized12.A} /10ç‚¹
åƒãã‹ã‘åŠ›ï¼š${normalized12.B} /10ç‚¹
å®Ÿè¡ŒåŠ›ï¼š${normalized12.C} /10ç‚¹
èª²é¡Œç™ºè¦‹åŠ›ï¼š${normalized12.D} /10ç‚¹
è¨ˆç”»åŠ›ï¼š${normalized12.E} /10ç‚¹
å‰µé€ åŠ›ï¼š${normalized12.F} /10ç‚¹
ç™ºä¿¡åŠ›ï¼š${normalized12.G} /10ç‚¹
å‚¾è´åŠ›ï¼š${normalized12.H} /10ç‚¹
æŸ”è»Ÿæ€§ï¼š${normalized12.I} /10ç‚¹
çŠ¶æ³æŠŠæ¡åŠ›ï¼š${normalized12.J} /10ç‚¹
è¦å¾‹æ€§ï¼š${normalized12.K} /10ç‚¹
ï½½ï¾„ï¾šï½½ï½ºï¾ï¾„ï¾›ï½°ï¾™åŠ›ï¼š${normalized12.L} /10ç‚¹

â€»å‚è€ƒï¼‰MBTIã‚¿ã‚¤ãƒ—ï¼š${MBTI}


å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼š
1. ç·è©•ï¼ˆå…¨ä½“å°è±¡ï¼‰
2. ${focus}ã®è¦–ç‚¹ã‹ã‚‰ã®åˆ†æ
3. ä»Šå¾Œã®ã‚­ãƒ£ãƒªã‚¢å½¢æˆã¸ã®ææ¡ˆ
4. ã¾ã¨ã‚ã‚³ãƒ¡ãƒ³ãƒˆ
`;

 promptOutput.textContent = prompt;
});


////////////////////////////////////////////////////////////////////////////////////////////////////////////
// â–¼â–¼â–¼ 1. ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã®è¦ç´ ã‚’å–å¾— â–¼â–¼â–¼
const copyPromptBtn = document.getElementById("copyPromptBtn");
// â–²â–²â–² ã“ã“ã¾ã§ â–²â–²â–²


generateBtn.addEventListener("click", () => {
  const role = roleSelect.value;
  const focus = focusSelect.value;


  // â–¼â–¼â–¼ 2. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆæ™‚ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ â–¼â–¼â–¼
  copyPromptBtn.style.display = "inline-block";
  copyPromptBtn.textContent = "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼"; // (ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ãƒªã‚»ãƒƒãƒˆ)
  // â–²â–²â–² ã“ã“ã¾ã§ â–²â–²â–²
});


// â–¼â–¼â–¼ 3. ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ  â–¼â–¼â–¼
copyPromptBtn.addEventListener("click", () => {
  const textToCopy = promptOutput.textContent;

  // navigator.clipboard API ã‚’ä½¿ã£ã¦ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
  // (æ³¨: ã“ã®APIã¯ HTTPS ã¾ãŸã¯ localhost ç’°å¢ƒã§ã®ã¿å‹•ä½œã—ã¾ã™)
  if (navigator.clipboard && navigator.clipboard.writeText) {
    navigator.clipboard.writeText(textToCopy).then(() => {
      // ã‚³ãƒ”ãƒ¼æˆåŠŸæ™‚ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
      alert("ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸã€‚\nAIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è²¼ã‚Šä»˜ã‘ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nAIã‹ã‚‰è©³ç´°ãªåˆ†æãƒ»ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãªã©ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã‚‚ã‚‰ãˆã¾ã™ã€‚");

      /*
      copyPromptBtn.textContent = "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼";
      setTimeout(() => {
        copyPromptBtn.textContent = "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼";
      }, 2000); // 2ç§’å¾Œã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å…ƒã«æˆ»ã™
      */

    }).catch(err => {
      console.error("ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã®ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:", err);
      alert("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚");
    });
  } else {
    // å¤ã„ãƒ–ãƒ©ã‚¦ã‚¶ã‚„éã‚»ã‚­ãƒ¥ã‚¢ãªç’°å¢ƒ(http)å‘ã‘ã®è­¦å‘Š
    alert("ãŠä½¿ã„ã®ç’°å¢ƒã§ã¯è‡ªå‹•ã‚³ãƒ”ãƒ¼ãŒã§ãã¾ã›ã‚“ã€‚ãŠæ‰‹æ•°ã§ã™ãŒæ‰‹å‹•ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚");
  }
});
// â–²â–²â–² ã“ã“ã¾ã§ â–²â–²â–²////////////////////////////////////////////////////////////////////////////////////////////////////////////


</script>

</body>
</html>
